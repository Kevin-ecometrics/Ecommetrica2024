---
const list = [
  {
    name: "Sobre Nosotros",
    id: "sobre-nosotros",
    content: {
      title: "Sobre Nosotros",
      description: `
        Encuentra a un Médico Cirujano y Especialista en Medicina Estética y Antienvejecimiento en Playas de Tijuana.
        <br><br>
        Descubre la excelencia en medicina estética y antiedad con un experto comprometido en realzar la belleza natural de cada paciente.
        Con una atención personalizada y una amplia experiencia en el campo, nuestro especialista ofrece la mejor alternativa para lograr un equilibrio perfecto entre salud, bienestar y belleza.
        <br><br>
        <strong>Destacando la Belleza que Ya Posees</strong>
        <br><br>
        Nuestro equipo se dedica a ayudar a todas las personas a preservar y resaltar su belleza inherente. 
        El enfoque se basa en el entendimiento de que cada individuo es único, y los tratamientos se adaptan a las necesidades específicas de cada paciente.
        <br><br>
        <strong>Un Balance Integral entre Salud, Bienestar y Belleza</strong>
        <br><br>
        Con este enfoque, puedes lograr un equilibrio completo entre salud, bienestar y belleza.
        La dedicación a la medicina estética y antienvejecimiento se traduce en resultados sobresalientes que te permiten sentirte seguro y radiante en tu propia piel.
        <br><br>
        Confía en nuestro especialista para alcanzar la mejor versión de ti mismo. 
        Tu belleza es única, y estamos aquí para ayudarte a resaltarla de manera experta.
      `,
    },
  },
  {
    name: "Términos y Servicio",
    id: "terminos-servicio",
    content: {
      title: "Términos y Condiciones de Servicio",
      description: `
        Una vez que hayas seleccionado el servicio que deseas, deberás reservarlo durante los horarios disponibles en la plataforma.
        <br><br>
        Los servicios reservan el espacio en la oficina en los horarios seleccionados al momento de tu elección. 
        Nuestro sistema solo permite realizar modificaciones dentro de la página.
        <br><br>
        Una vez completada la reserva, recibirás un correo electrónico en un plazo máximo de 2 horas con la información correspondiente.
        <br><br>
        Si realizas un depósito, una vez reflejado en nuestra cuenta, se realizará una llamada de confirmación hasta 24 horas antes de la cita, confirmando el pedido mediante correo electrónico. 
        La confirmación del depósito de compra deberá ser verificada por el área administrativa. 
        En ningún caso se podrá programar el espacio si no está liberado por el departamento correspondiente.
        <br><br>
        <strong>Política de reservas</strong>
        <br><br>
        Cualquier reserva realizada en la página va directamente a nuestra agenda en recepción. 
        Las citas se confirman telefónicamente y deben ser atendidas por el paciente en el plazo de 48 a 24 horas antes de la cita. 
        Las citas no confirmadas podrán ser consideradas canceladas. 
        Se podrá realizar la cancelación con devolución siempre que la notificación sea 72 horas antes de la fecha prevista. 
        Si es dentro del plazo de 72 horas, solo se podrá reprogramar la cita.
        <br><br>
        Cualquier situación que surja por cambio o devolución deberá ser notificada mediante correo electrónico enviando una descripción del problema o motivo de la cancelación.
      `,
    },
  },
  {
    name: "Política de Privacidad",
    id: "politica-privacidad",
    content: {
      title: "Política de Privacidad",
      description: `
        En nuestro sitio web, accesible desde este portal, una de nuestras principales prioridades es la privacidad de nuestros visitantes. 
        Este documento contiene los tipos de información que recopilamos y registramos, y cómo la usamos.
        <br><br>
        <strong>Uso de la información</strong>
        <br><br>
        Podemos comunicarnos con usted directamente o a través de socios autorizados, incluyendo servicio de atención al cliente, 
        para brindarle actualizaciones, información relacionada con el sitio, y fines promocionales y de marketing. 
        También podemos enviar correos electrónicos e implementar medidas para prevenir fraude.
        <br><br>
        <strong>Archivos de registro</strong>
        <br><br>
        Seguimos un procedimiento estándar de uso de archivos de registro, que registran a los visitantes cuando acceden al sitio. 
        La información recopilada incluye direcciones IP, tipo de navegador, proveedor de servicios de Internet (ISP), marca de fecha y hora, 
        páginas de referencia/salida y número de clics. 
        Estos datos no están vinculados a ninguna información personal identificable. 
        El propósito es analizar tendencias, administrar el sitio y recopilar información demográfica.
        <br><br>
        <strong>Cookies y tecnologías similares</strong>
        <br><br>
        Como cualquier otro sitio web, utilizamos cookies para almacenar información, incluidas las preferencias de los visitantes 
        y las páginas visitadas. 
        La información se emplea para optimizar la experiencia de los usuarios, personalizando el contenido según el navegador y otra información.
        <br><br>
        <strong>Publicidad de terceros</strong>
        <br><br>
        Algunos anunciantes pueden utilizar cookies y tecnologías como JavaScript o Web Beacons para medir la efectividad de sus campañas 
        y personalizar los anuncios que aparecen en nuestro sitio. 
        Tenga en cuenta que no tenemos acceso ni control sobre estas cookies utilizadas por terceros.
        <br><br>
        Recomendamos consultar las políticas de privacidad de cada proveedor de servicios o anunciante externo para obtener información más detallada.
      `,
    },
  },
];
---

<footer class="bg-[#211316] text-white">
  <div
    class="flex flex-col md:flex-row justify-between items-center p-6 md:p-8 gap-6 md:gap-0"
  >
    <figure class="flex-shrink-0">
      <img
        src="/arturo/logo-footer.png"
        alt="Logo Dr. Arturo López"
        class="w-12 h-12 md:w-16 md:h-16 hover:scale-110 transition-transform duration-300"
      />
    </figure>

    <nav class="w-full md:w-auto">
      <ul
        class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-8 font-medium text-center md:text-left"
      >
        {
          list.map((item) => (
            <li>
              <button
                data-modal-trigger={item.id}
                class="hover:text-[#AC463F] hover:underline cursor-pointer transition-colors duration-300 text-sm md:text-base focus:outline-none focus:ring-2 focus:ring-[#AC463F] focus:ring-opacity-50 rounded px-2 py-1"
                aria-label={`Abrir información sobre ${item.name}`}
              >
                {item.name}
              </button>
            </li>
          ))
        }
      </ul>
    </nav>
  </div>

  <div
    class="w-full bg-gradient-to-r from-transparent via-white to-transparent h-px opacity-30"
  >
  </div>

  <div class="text-center p-4 text-xs md:text-sm text-gray-400 leading-relaxed">
    <p>
      &copy; {new Date().getFullYear()} Todos los derechos reservados.
    </p>
    <p class="mt-1">
      Desarrollado por
      <a
        href="https://e-commetrics.com"
        target="_blank"
        rel="noopener noreferrer"
        class="text-[#AC463F] hover:text-[#AC463F] transition-colors duration-300 ml-1 font-medium"
      >
        e-commetrics.com
      </a>
    </p>
  </div>
</footer>

<!-- Modal Container -->
<div
  id="modal-overlay"
  class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60 backdrop-blur-sm hidden"
>
  <div
    id="modal-content"
    class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300"
  >
    <!-- Header del Modal -->
    <div
      class="flex justify-between items-center p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50"
    >
      <h2 id="modal-title" class="text-2xl font-bold text-gray-800"></h2>
      <button
        id="close-modal"
        class="p-2 hover:bg-gray-100 rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300"
        aria-label="Cerrar modal"
      >
        <svg
          class="w-6 h-6 text-gray-600"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <!-- Contenido del Modal -->
    <div class="p-6">
      <div id="modal-description" class="text-gray-700 leading-relaxed text-lg">
      </div>
    </div>

    <!-- Footer del Modal -->
    <div class="flex justify-end p-6 border-t border-gray-200 bg-gray-50">
      <button
        id="close-modal-btn"
        class="px-6 py-3 bg-[#AC463F] text-white rounded-lg hover:bg-[#AC463F] focus:outline-none focus:ring-2 focus:ring-[#AC463F] focus:ring-opacity-50 transition-colors duration-200 font-medium"
      >
        Cerrar
      </button>
    </div>
  </div>
</div>

<script define:vars={{ list }}>
  // Datos del contenido para los modales
  const modalData = list.reduce((acc, item) => {
    acc[item.id] = item.content;
    return acc;
  }, {});

  // Referencias a elementos del DOM
  const modalOverlay = document.getElementById("modal-overlay");
  const modalTitle = document.getElementById("modal-title");
  const modalDescription = document.getElementById("modal-description");
  const closeModalBtn = document.getElementById("close-modal");
  const closeModalFooterBtn = document.getElementById("close-modal-btn");

  // Función para abrir modal
  function openModal(itemId) {
    const data = modalData[itemId];
    if (!data) return;

    // Llenar contenido del modal
    modalTitle.textContent = data.title;
    modalDescription.innerHTML = data.description; // Usando innerHTML para renderizar HTML

    // Mostrar modal
    modalOverlay.classList.remove("hidden");
    document.body.style.overflow = "hidden";

    // Focus en el modal para accesibilidad
    modalOverlay.focus();
  }

  // Función para cerrar modal
  function closeModal() {
    modalOverlay.classList.add("hidden");
    document.body.style.overflow = "unset";
  }

  // Event listeners para abrir modales
  document.addEventListener("DOMContentLoaded", () => {
    // Botones de trigger
    document.querySelectorAll("[data-modal-trigger]").forEach((button) => {
      button.addEventListener("click", (e) => {
        const itemId = e.target.getAttribute("data-modal-trigger");
        openModal(itemId);
      });
    });

    // Botones de cerrar
    closeModalBtn.addEventListener("click", closeModal);
    closeModalFooterBtn.addEventListener("click", closeModal);

    // Cerrar al hacer clic fuera del modal
    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) {
        closeModal();
      }
    });

    // Cerrar con tecla Escape
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !modalOverlay.classList.contains("hidden")) {
        closeModal();
      }
    });
  });
</script>

<style>
  /* Animaciones para el modal */
  #modal-overlay {
    animation: fadeIn 0.3s ease-out;
  }

  #modal-overlay.hidden {
    animation: fadeOut 0.3s ease-in;
  }

  #modal-content {
    animation: slideIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(-20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  /* Mejoras de hover y focus */
  button[data-modal-trigger]:hover {
    transform: translateY(-1px);
  }

  button[data-modal-trigger]:active {
    transform: translateY(0);
  }
</style>
