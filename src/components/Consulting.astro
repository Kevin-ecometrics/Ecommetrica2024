---
import { getLangFromUrl, useTranslations } from "src/i18n/utils";
const URL = Astro.url;
const lang = getLangFromUrl(URL);
const t = useTranslations(lang);

let consultings = [
  {
    src: "/programacion.webp",
    text: t("consulting.programation"),
    description: t("consulting.programationdesc"),
    // background: "bg-gradient-to-t from-[#1FBCFF] to-[#1FBCFF]",
    background: "bg-gradient-to-t from-[#861453] to-[#861453]",
  },
  {
    src: "/marketing.webp",
    text: t("consulting.marketing"),
    description: t("consulting.marketingdesc"),
    background: "bg-gradient-to-t from-[#861453] to-[#861453]",
  },
  {
    src: "/SEO.webp",
    text: t("consulting.seo"),
    description: t("consulting.seodesc"),
    // background: "bg-gradient-to-t from-[#59A29E] to-[#5DA9A6]",
    background: "bg-gradient-to-t from-[#861453] to-[#861453]",
  },
  {
    src: "/webMaster.webp",
    text: t("consulting.webmaster"),
    description: t("consulting.webmasterdesc"),
    // background: "bg-gradient-to-t from-[#9747FF] to-[#9747FF]",
    background: "bg-gradient-to-t from-[#861453] to-[#861453]",
  },
];
---

<section
  class="md:h-screen py-8 flex justify-center flex-col items-center md:px-8 bg-gradient-to-l from-[#BD155C] to-[#1E171E]"
>
  <h1 class="text-4xl text-white font-bold mb-4 text-center">
    {t("consulting.title")}
  </h1>
  <h2 class="text-white text-3xl font-medium mb-12 text-center">
    {t("consulting.subtitle")}
  </h2>
  <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
    {
      consultings.map((item) => (
        <div class="relative flex flex-col group">
          {/* Imagen con efecto hover */}
          <div class="relative">
            <img
              src={item.src}
              alt="consultoria"
              class="object-cover w-full transition-transform duration-500 group-hover:scale-110"
              loading="lazy"
            />
            <div
              class={`absolute inset-0 opacity-0 group-hover:opacity-60 group-hover:scale-110 rounded-2xl transition-opacity duration-500 ${item.background}`}
            />
          </div>

          {/* Contenedor de textos y logo sobre la imagen */}
          <div class="absolute bottom-0 flex flex-col justify-start items-start p-4 transition-transform duration-500 group-hover:-translate-y-2">
            {/* Logo SVG Genérico */}
            <svg
              class="w-12 h-12 text-white mb-2 transition-transform duration-500 group-hover:-translate-y-2"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path d="M12 2L1.8 21h20.4L12 2zm0 3.84L18.6 19H5.4L12 5.84zM11 8h2v5h-2V8zm1 6.25a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z" />
            </svg>

            {/* Título (Siempre visible) */}
            <span class="text-white text-2xl font-bold transition-transform duration-500 group-hover:-translate-y-2">
              {item.text}
            </span>

            {/* Descripción (Solo en hover) */}
            <span class="text-white text-lg font-bold opacity-0 group-hover:opacity-100 transition-opacity duration-500">
              {item.description}
            </span>
          </div>
        </div>
      ))
    }
  </div>
</section>
